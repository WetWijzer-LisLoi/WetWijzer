{"version":3,"file":"application-InJPY1an.js","sources":["../../../app/javascript/entrypoints/application.js"],"sourcesContent":["/**\n * Application Entry Point\n * \n * This is the main JavaScript entry point for the WetWijzer application.\n * It initializes Turbo Drive for fast page navigation and imports all controllers\n * and styles required by the application.\n * \n * @module application\n * @see https://github.com/hotwired/turbo-rails\n * @see https://stimulus.hotwired.dev/\n */\n\n// Import Turbo Drive for SPA-like navigation\n// Turbo Drive intercepts all clicks on <a> links and updates the page without a full reload\nimport \"@hotwired/turbo-rails\";\nimport { Turbo } from \"@hotwired/turbo-rails\";\n\n// Import all Stimulus controllers from the controllers directory\n// This automatically registers them with the Stimulus application\nimport \"@/controllers\";\n\n// Import the main application stylesheet\n// This includes all the Tailwind CSS styles and custom SCSS\nimport '../stylesheets/application.scss';\n\n// Show the Turbo progress bar immediately when a navigation or form submission starts\n// Default is 500ms; setting to 0 ensures instant visual feedback\ntry {\n  if (Turbo && Turbo.config && Turbo.config.drive) {\n    Turbo.config.drive.progressBarDelay = 0;\n  } else if (typeof Turbo.setProgressBarDelay === 'function') {\n    // Fallback for older Turbo versions\n    Turbo.setProgressBarDelay(0);\n  }\n} catch (_) {\n  // No-op if Turbo is not available for some reason\n}\n\n// You can add any additional JavaScript initialization code here\n// For example:\n// - Setting up global event listeners\n// - Initializing third-party libraries\n// - Configuring application-wide settings\n\n// Example: Add a global error handler\nwindow.addEventListener('error', (event) => {\n  console.error('Global error handler:', event.error || event);\n});\n\n// Example: Add a global unhandled promise rejection handler\nwindow.addEventListener('unhandledrejection', (event) => {\n  console.error('Unhandled promise rejection:', event.reason);\n});\n\n// Ensure hash-fragment scrolling works reliably with Turbo and fixed headers\nfunction findAnchorElementById(id) {\n  if (!id) return null;\n  // Try exact id\n  let el = document.getElementById(id);\n  if (el) return el;\n  // Try with/without 'section-' prefix for backward compatibility\n  if (!id.startsWith('section-')) {\n    el = document.getElementById(`section-${id}`);\n    if (el) return el;\n  } else {\n    el = document.getElementById(id.replace(/^section-/, ''));\n    if (el) return el;\n  }\n  return null;\n}\n\nfunction scrollToHash(targetHash) {\n  const hash = typeof targetHash === 'string' ? targetHash : window.location.hash;\n  if (!hash || hash.length < 2) return;\n  const id = decodeURIComponent(hash.slice(1));\n  const el = findAnchorElementById(id);\n  if (el) {\n    // Use native behavior; scroll-mt on elements handles header offset\n    el.scrollIntoView({ behavior: 'auto', block: 'start', inline: 'nearest' });\n  }\n}\n\n// Track whether we've processed the initial page load\nlet initialLoadHandled = false;\n\n// Run after Turbo completes rendering\nwindow.addEventListener('turbo:load', (event) => {\n  // On initial page load, browser has already scrolled to hash\n  // Skip our custom scroll handling to avoid jumping back\n  if (!initialLoadHandled) {\n    initialLoadHandled = true;\n    return;\n  }\n  \n  // For subsequent Turbo navigations, handle hash scrolling\n  // Defer to allow controllers to connect and DOM to settle\n  setTimeout(() => scrollToHash(), 0);\n});\n\n"],"names":["Turbo","Turbo.config","Turbo.setProgressBarDelay","event","findAnchorElementById","id","el","scrollToHash","targetHash","hash","initialLoadHandled"],"mappings":"4DA2BA,GAAI,CACEA,GAASC,GAAgBA,EAAa,MACxCA,EAAa,MAAM,iBAAmB,EAC7B,OAAOC,GAA8B,YAE9CA,EAA0B,CAAC,CAE/B,MAAY,CAEZ,CASA,OAAO,iBAAiB,QAAUC,GAAU,CAC1C,QAAQ,MAAM,wBAAyBA,EAAM,OAASA,CAAK,CAC7D,CAAC,EAGD,OAAO,iBAAiB,qBAAuBA,GAAU,CACvD,QAAQ,MAAM,+BAAgCA,EAAM,MAAM,CAC5D,CAAC,EAGD,SAASC,EAAsBC,EAAI,CACjC,GAAI,CAACA,EAAI,OAAO,KAEhB,IAAIC,EAAK,SAAS,eAAeD,CAAE,EACnC,GAAIC,EAAI,OAAOA,EAEf,GAAKD,EAAG,WAAW,UAAU,GAK3B,GADAC,EAAK,SAAS,eAAeD,EAAG,QAAQ,YAAa,EAAE,CAAC,EACpDC,EAAI,OAAOA,UAJfA,EAAK,SAAS,eAAe,WAAWD,CAAE,EAAE,EACxCC,EAAI,OAAOA,EAKjB,OAAO,IACT,CAEA,SAASC,EAAaC,EAAY,CAChC,MAAMC,EAAqD,OAAO,SAAS,KAC3E,GAAI,CAACA,GAAQA,EAAK,OAAS,EAAG,OAC9B,MAAMJ,EAAK,mBAAmBI,EAAK,MAAM,CAAC,CAAC,EACrCH,EAAKF,EAAsBC,CAAE,EAC/BC,GAEFA,EAAG,eAAe,CAAE,SAAU,OAAQ,MAAO,QAAS,OAAQ,UAAW,CAE7E,CAGA,IAAII,EAAqB,GAGzB,OAAO,iBAAiB,aAAeP,GAAU,CAG/C,GAAI,CAACO,EAAoB,CACvBA,EAAqB,GACrB,MACF,CAIA,WAAW,IAAMH,EAAY,EAAI,CAAC,CACpC,CAAC"}