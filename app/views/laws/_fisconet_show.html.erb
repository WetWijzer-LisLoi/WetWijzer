<!-- FisconetPlus Article View - Same style as Justel legislation -->
<!-- Page Header -->
<div class="mb-6">
  <div class="bg-gradient-to-r from-[var(--accent-500)]/5 to-[var(--accent-500)]/10 dark:from-[var(--accent-500)]/10 dark:to-[var(--accent-500)]/20 rounded-xl p-4 md:p-6 border border-[var(--accent-500)]/20 dark:border-[var(--accent-500)]/30">
    <div class="flex flex-col gap-3 md:flex-row md:items-center md:justify-between md:gap-4">
      <div class="flex items-center gap-3">
        <h1 class="text-xl md:text-2xl font-bold text-gray-900 dark:text-[var(--accent-500)]">
          <%= t(:details).capitalize() %>
        </h1>
        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-emerald-100 text-emerald-800 dark:bg-emerald-900/30 dark:text-emerald-300">
          FisconetPlus
        </span>
      </div>
      <div class="flex flex-wrap items-center gap-2 no-print">
        <%# Language switch link %>
        <% other_language_id = @language_id == 1 ? 2 : 1 %>
        <%= link_to law_path(@law, language_id: other_language_id),
                    class: "inline-flex items-center gap-1.5 px-2 py-1.5 md:px-3 text-xs md:text-sm font-medium rounded-lg text-[var(--accent-700)] dark:text-[var(--accent-300)] hover:bg-[var(--accent-500)]/10 border border-[var(--accent-500)]/20 transition-colors duration-150",
                    title: I18n.locale == :fr ? (@language_id == 1 ? "Voir la version française" : "Voir la version néerlandaise") : (@language_id == 1 ? "Bekijk de Franstalige versie" : "Bekijk de Nederlandstalige versie") do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
          </svg>
          <span class="hidden sm:inline"><%= @language_id == 1 ? "FR" : "NL" %></span>
        <% end %>
        <%# External FisconetPlus link %>
        <%= link_to @law.fisconet_external_url,
                    target: "_blank",
                    rel: "noopener noreferrer",
                    class: "inline-flex items-center gap-1.5 px-2 py-1.5 md:px-3 text-xs md:text-sm font-medium rounded-lg text-[var(--accent-700)] dark:text-[var(--accent-300)] hover:bg-[var(--accent-500)]/10 border border-[var(--accent-500)]/20 transition-colors duration-150",
                    title: "FisconetPlus" do %>
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14" />
          </svg>
          <span class="hidden sm:inline">FisconetPlus</span>
        <% end %>
        <%# Print button %>
        <button type="button"
                onclick="window.print()"
                class="inline-flex items-center gap-1.5 px-2 py-1.5 md:px-3 text-xs md:text-sm font-medium rounded-lg text-[var(--accent-700)] dark:text-[var(--accent-300)] hover:bg-[var(--accent-500)]/10 border border-[var(--accent-500)]/20 transition-colors duration-150"
                title="<%= I18n.locale == :fr ? 'Imprimer' : 'Afdrukken' %>">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M5 4v3H4a2 2 0 00-2 2v3a2 2 0 002 2h1v2a2 2 0 002 2h6a2 2 0 002-2v-2h1a2 2 0 002-2V9a2 2 0 00-2-2h-1V4a2 2 0 00-2-2H7a2 2 0 00-2 2zm8 0H7v3h6V4zm0 8H7v4h6v-4z" clip-rule="evenodd"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Main Content Layout -->
<div class="w-full pb-24 md:pb-0">
  <div class="flex flex-col lg:flex-row gap-6">
    <!-- Main Content Area -->
    <div class="flex-1 min-w-0">
      <!-- Title Card -->
      <div id="title-card" class="bg-white dark:bg-navy/50 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 mb-6">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
          <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-[var(--accent-500)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
            </svg>
            <%= t(:title_details).capitalize %>
          </h2>
        </div>
        <div class="p-4">
          <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">
            <%= @law.title %>
          </h3>
          <div class="flex flex-wrap gap-2 text-sm text-gray-600 dark:text-gray-400">
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300">
              <%= @law.document_type %>
            </span>
            <% if @law.fisconet_section.present? %>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300">
                <%= @law.fisconet_section %>
              </span>
            <% end %>
          </div>
        </div>
      </div>

      <!-- Document Info Card -->
      <div id="document-info-card" class="bg-white dark:bg-navy/50 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 mb-6">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
          <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-[var(--accent-500)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <%= t(:document_info) %>
          </h2>
        </div>
        <div class="p-4 space-y-3">
          <div class="flex items-start gap-3">
            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 min-w-[120px]"><%= I18n.locale == :fr ? 'Source' : 'Bron' %>:</span>
            <span class="text-sm text-gray-900 dark:text-white">FisconetPlus - FOD Financiën</span>
          </div>
          <div class="flex items-start gap-3">
            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 min-w-[120px]"><%= I18n.locale == :fr ? 'Type' : 'Type' %>:</span>
            <span class="text-sm text-gray-900 dark:text-white"><%= @law.document_type %></span>
          </div>
          <% if @law.fisconet_section.present? %>
          <div class="flex items-start gap-3">
            <span class="text-sm font-medium text-gray-500 dark:text-gray-400 min-w-[120px]"><%= I18n.locale == :fr ? 'Section' : 'Sectie' %>:</span>
            <span class="text-sm text-gray-900 dark:text-white"><%= @law.fisconet_section %></span>
          </div>
          <% end %>
        </div>
      </div>

      <!-- Article Content Card -->
      <div id="articles-card" class="bg-white dark:bg-navy/50 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700">
        <div class="p-4 border-b border-gray-200 dark:border-gray-700">
          <h2 class="text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-[var(--accent-500)]" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7" />
            </svg>
            Artikel <%= @law.fisconet_article_number %>
          </h2>
        </div>
        <div class="p-4 md:p-6">
          <div class="prose prose-sm dark:prose-invert max-w-none">
            <% # Clean up text: replace single newlines with spaces, keep double newlines as paragraphs %>
            <%= simple_format(@law.fisconet_text.to_s.gsub(/([^\n])\n([^\n])/, '\1 \2')) %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
